# Build and Install

```shell
git clone https://github.com/safeheron/tss-rsa-cpp.git
cd tss-rsa-cpp
mkdir build && cd build
# Run "cmake .. -DOPENSSL_ROOT_DIR=Your-Root-Directory-of-OPENSSL" instead of the command below on Mac OS.
cmake .. -DENABLE_TESTS=ON
# Add the path to the LD_LIBRARY_PATH environment variable on Mac OS; Ignore it on Linux
export LIBRARY_PATH=$LIBRARY_PATH:/usr/local/lib/
make
make test
sudo make install
```

# Benchmark
Compile and run benchmark:

```c++
cd crypto-tss-rsa-cpp
mkdir build && cd build
cmake .. -DOPENSSL_ROOT_DIR=/opt/homebrew/opt/openssl@1.1 -DENABLE_TESTS=ON -DENABLE_BENCHMARK=ON
make
./test/tss-rsa-benchmark-test
```

# Compile and Run

```shell
key meta data: {
 "k": 2,
 "l": 2,
 "vkv": "4BAA608EA9DC9A0FB92B208D7B3A895EF5B8BD6D74CA90CBE9A643C3AFE088DC8A15E608D99317ADF842200A5A138C0A09B9D7192BBD455E71646B261AFD3DA0A31BC25C73E263249C086887E022C0177B8A3F2ACCEF46D8B4112179FAA5EE57D3FC5C227EE47351BF6E53514A269DD1D8F91810D81F39CF2209EB7B8C2714F1",
 "vku": "0921015DEAE127E0AA7C0B424423387DBEFB3C1A1F61F047006240C845FB97E5D87C8608497372CA5CC1543CCB08A914B7D83087DA60ABED8617756267BD9FA78D3BE995D92973F1E899E3711C6016DF5CA6C617E4B99A3C7DDBA3916AD0E2178828B3A5A3636006B411B90A2581B9F002810FE465ACA98B98D49019A1CCAADE",
 "vkiArr": [
  "510A8D0DCE01F208C1F7EBFBC25FBA81559E3C5A1E89EE07FC69A1BF1F1A985C6B45A6B5576C0F66CA1E2CF4F2F7FFD3B37A5E62F71A33FA325017FA843052F69D6CB6A2BE3A46A2ED755BDADF83F403E272773289ACC218362945050220E90018D0F381E50E78721204906C97E41669663FFB47688D85118D0E41437F1CB79C",
  "1FC8C345EBB6FD2764F955F7B5A5070386225A89BFCF484BDE6D4D5D579FA2A554CD7F4D295C7AEC4FD53D4BEF0FE348AD81F983BEBC4783F747D3CD55A84C012B0F747F4A0F411E3799A524BB8AF6F4990F5E09EF8CA3A3D1C5BD516DFB8BE7FABD23B79AD3A5A646A27B59BCA500958D44F11E253C8987132F0A47D3657C07"
 ]
}

public key: {
 "n": "64F5B214FCBF59ACF288FC4E040502B13F6ED2FF43D16005FE28EFF99B9BB1D8D9EAB4B3A718559F6D24843CD555120BE444C9E2DECBF371D23F1871E809EDEA6BC4AA78DBEC84A3EB352DDEC3F5C3392CF30819703441C73D6B7A51AAEEBE5667789AA5BF32E401EAA75CA10ADA94A3FBF13BD49C1381A112BBEB6192AD0135",
 "e": "010001"
}

private key share 1: {
 "i": 1,
 "si": "168D4147A9749F53BA7D7E896A0E5BD05DD70A9905FE5205808234C80E7C82F5B0E303600389F66F0D1B7523B39823D3F58746DAE429F8825ED9603FA4AC652528C180EE3AF0FBA28A0C66056B853391BDC5CA3207D112BDAA7CD019D95CEAA3D13D0F80ED5CE5EFF7E1C7A37D5E9406F4CCD617A1DDC3722E1353870CDFA5ED"
}

bloom filter after share1: 000010001101000010000000011001010101000101001000
private key share 2: {
 "i": 2,
 "si": "0B003CD93D03B733BE953103CB54E9A0D7954B3DCB61C6FEF3D755768FD41E5FFDEC403E06C6673E78B5E82BC749AE49175AEB79FBC6D7D70E282F295FB9FA47A3F14F5DF3B7D4ADAECFBDB84960C1B7DFF73D16974C965337C13DA845882B49FC1EE9FD5BC47662966F33ECECB7BE377D85DCC0D36B323B3A8028C702947981"
}

bloom filter after share 2: 111010001101000011101100111001010101000101101110
transaction data: transaction_data111010001101000011101100111001010101000101101110
EM: 3132333435363738313233343536373831323334353637383132333435363738
signature share 1: {
 "index": 1,
 "sigShare": "04C07EF0DA51E0208555CC22A54518DEFCD4435E31AB1E24FA33A8A850E7F3DC5A8BE950CC3F9EED2DA4EA05E4EAD4A9A3A2033F381D0B932B914003494CBA6AA5CB9A458480AAC6F809A9B5476AB52285B98E8A43F19ABA316B63FE3B51096B5A2815809FAAA0FD7C0251331D429634F1EA7DB2C039B66BA2424A6C795403E6",
 "z": "DC8F121CAAFBB81CA1FEC6224CD8E083EFA47A7B3042A707351CD9CC50586376ED63AD08336E326BE746913BB79E214955EA09D21AFA8ED8871F3EEC381329257D9A851791BF7B9EEF2D0265D46E7DBA110312512B65550DB2934EE7409D1D39615CA575A2DEAD53A49121BFB10CCF337A5201067ACEA65D6ADE3598E0CA016A438FAFEB9AF2D7B6713A7C3406DD65CAFE43E233B2BC36F9C9D588D872607CC24939B2E734CB7395A93751DB36C51A952B53B45F2B7AA18DC2EF66D00ACBA697",
 "c": "6DB4AFC4DE229B9EF0B023EE5E6E6B45A6B5744032B33909E026F775D22B16AE"
}

signature share 2: {
 "index": 2,
 "sigShare": "1CC9192EA3A51C66D1C49C5145222D9E62D2E11E9CDF53FA9E2074609C63FD98A959A6171F8FD0DB4ED967B46FB94F7D3DED13F060CED7CD688F9D81CC39C4491501DE188AA47C79C473BB6765C088E779C0231DF849088650760615383574558B78A5CDD987116DC343E24847AACA6A940BD11A646B0C21E5AED9C64D389390",
 "z": "9CC2140B5FDE499173A853A4FC0FDCF825DC9776DAC6B6EBCA49D94E68535F626E06201713D43756F0E60993D12982BA50848357261E20553D06702CD06989CBD854E4B704B210F9E156500D9CA8B3EBF3163BD0F898AA99FAA18D47F2C28E0F88FD5D8B1294A4E83ACD3E91C713D6B24F0569F4B2AAEAAD70312E08DD50580F38074B6F6908BA2EED929F274093A37BDEF37199F0732F77949D0F9C066473447A8E36FDE5293111DDCEFFE39590F5D8244B2322E22386CCD4BE3A52C2AAEB22",
 "c": "07C31B1EA218D9EEA86225F7225E8D5414FEED512648E718D9822312A687D555"
}

succeed to sign: 1
signature: 23BF822F2981C678BBD34C383EE2CD2C7AD272AF9C44CE816CCD8B9730278C8610CDB8CC9906D4FE3B6CEE2E27AEE70A38701A9C9B83E9A35D64E24067B5F3885451FC9C0293893DC7CC92885A4C99712C830FBC56962E79346E4DFC56DE6FADBA98F2585EEB50CE498446C16129C261606F8537DD55CEF573B9A5D1F500B06F
Verify Pss: 0
Verify Sig: 1
extracted bloom_str: 111010001101000011101100111001010101000101101110
```

# Benchmarks

<img width="1181" alt="Screenshot 2023-02-18 at 15 18 49" src="https://user-images.githubusercontent.com/65491540/219870784-76d4bb5e-c625-4f38-b961-feb326253334.png">


# Reference

##### [1] [Practical Threshold Signatures](https://www.iacr.org/archive/eurocrypt2000/1807/18070209-new.pdf)
##### [2] [Description of TSS-RSA Signature Algorithm](./doc/Description_of_TSS_RSA_Signature_Algorithm.md)
